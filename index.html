<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‚úß Regalo ‚úß</title>
  <!-- El favicon -->
  <link rel="icon" type="image/x-icon" href="logo.png" />

  <!-- ‚úÖ Metaetiquetas Open Graph -->
  <meta property="og:title" content="‚úß Regalo ‚úß">
  <meta property="og:image" content="https://regaloespecial.vercel.app/logo.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://regaloespecial.vercel.app/">
  <meta name="twitter:card" content="summary_large_image">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap');

    /* Reset y base */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Georgia', serif;
      background-color: black;
      color: #fffad1;
      overflow: hidden;
      min-height: 100vh;
    }

    .oculto {
      display: none !important;
    }

    /* Pantalla de contrase√±a */
    #pantalla-password {
      background: linear-gradient(135deg, #000000, #1a1a1a);
      width: 100vw;
      height: 100vh;
      position: fixed;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      transition: all 0.8s ease-out;
    }

    #pantalla-password.saliendo {
      opacity: 0;
      transform: scale(0.95);
    }

    /* Aviso de volumen */
    .aviso-volumen {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Playfair Display', serif;
      font-size: 1rem;
      color: rgba(255, 248, 194, 0.8);
      text-shadow: 0 0 10px rgba(255, 248, 194, 0.3);
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      background: rgba(255, 248, 194, 0.05);
      border: 1px solid rgba(255, 248, 194, 0.2);
      border-radius: 25px;
      backdrop-filter: blur(10px);
      animation: pulsarSuave 3s ease-in-out infinite;
    }

    @keyframes pulsarSuave {
      0%, 100% {
        opacity: 0.7;
        transform: translateX(-50%) scale(1);
      }
      50% {
        opacity: 1;
        transform: translateX(-50%) scale(1.02);
      }
    }

    .icono-volumen {
      font-size: 1.2em;
      filter: drop-shadow(0 0 5px rgba(255, 248, 194, 0.5));
    }

    .banner-password {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: #fff8c2;
      text-shadow: 0 0 20px rgba(255, 248, 194, 0.6);
      margin-bottom: 3rem;
      text-align: center;
      animation: brilloSuave 3s ease-in-out infinite alternate;
    }

    @keyframes brilloSuave {
      from {
        text-shadow: 0 0 15px rgba(255, 248, 194, 0.4);
      }

      to {
        text-shadow: 0 0 25px rgba(255, 248, 194, 0.8);
      }
    }

    #inputPassword {
      padding: 15px 20px;
      font-size: 1.3rem;
      font-family: 'Playfair Display', serif;
      border-radius: 50px;
      border: 2px solid #fff8c2;
      outline: none;
      background: rgba(255, 248, 194, 0.1);
      color: #fff8c2;
      width: 300px;
      text-align: center;
      margin-bottom: 20px;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    #inputPassword:focus {
      border-color: #ffe066;
      box-shadow: 0 0 20px rgba(255, 224, 102, 0.5);
      background: rgba(255, 248, 194, 0.15);
    }

    #inputPassword::placeholder {
      color: rgba(255, 248, 194, 0.7);
    }

    #verificarPassword {
      padding: 12px 30px;
      font-size: 1.2rem;
      font-family: 'Playfair Display', serif;
      font-weight: 600;
      background: linear-gradient(45deg, transparent, rgba(255, 248, 194, 0.2));
      color: #fff8c2;
      border: 2px solid #fff8c2;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.4s ease;
      backdrop-filter: blur(5px);
    }

    #verificarPassword:hover {
      background: rgba(255, 248, 194, 0.2);
      transform: translateY(-2px);
      box-shadow: 0 5px 25px rgba(255, 248, 194, 0.4);
    }

    #errorPassword {
      color: #ff6b6b;
      margin-top: 15px;
      font-size: 1.1rem;
      text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
    }

    /* Contenido principal */
    #contenido {
      position: relative;
      width: 100%;
      height: 100vh;
      opacity: 0;
      transform: scale(1.05);
      transition: all 1s ease-out;
    }

    #contenido.visible {
      opacity: 1;
      transform: scale(1);
    }

    /* Poema 2020 */
    .poema2020 {
      width: 100vw;
      height: 100vh;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      transition: all 0.8s ease-in-out;
    }

    .poema2020.saliendo {
      opacity: 0;
      transform: scale(0.95) translateY(-30px);
    }

    /* Fondo de girasoles 2020 */
    .poema2020::before {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      background-image: url("bg.2020.jpeg");
      background-size: cover;
      background-position: center bottom;
      background-repeat: no-repeat;
      z-index: -2;
    }

    /* Para PC - mostrar horizontal con flores abajo */
    @media screen and (min-width: 769px) {
      .poema2020::before {
        background-position: center bottom;
        background-size: cover;
      }
    }

    /* Para m√≥viles - ajustar verticalmente */
    @media screen and (max-width: 768px) {
      .poema2020::before {
        background-position: center center;
        background-size: cover;
      }
    }

    .verso-2020 {
      font-family: 'Great Vibes', cursive;
      font-size: 2.5rem;
      color: #fff8c2;
      text-shadow:
        0 0 20px rgba(255, 248, 194, 0.8),
        2px 2px 4px rgba(0, 0, 0, 0.8);
      animation: resplandor 3s ease-in-out infinite alternate;
      padding: 20px;
      margin-bottom: 2rem;
      line-height: 1.4;
      text-align: center;
    }

    .verso-2020 .carita {
      font-size: 0.7em;
    }

    @keyframes resplandor {
      from {
        text-shadow:
          0 0 15px rgba(255, 248, 194, 0.6),
          2px 2px 4px rgba(0, 0, 0, 0.8);
      }

      to {
        text-shadow:
          0 0 30px rgba(255, 248, 194, 1),
          0 0 50px rgba(255, 224, 102, 0.6),
          2px 2px 4px rgba(0, 0, 0, 0.8);
      }
    }

    /* Bot√≥n 2025 y bot√≥n Volver - Estilos unificados */
    #boton2025 {
      font-family: 'Playfair Display', serif;
      font-size: 1.4rem;
      font-weight: 600;
      background: linear-gradient(45deg, transparent, rgba(255, 248, 194, 0.2));
      color: #fff8c2;
      border: 2px solid #ffe066;
      padding: 15px 30px;
      cursor: pointer;
      border-radius: 50px;
      transition: all 0.4s ease;
      box-shadow: 0 0 15px rgba(255, 224, 102, 0.3);
      backdrop-filter: blur(5px);
      min-width: 200px;
      text-align: center;
      white-space: nowrap;
    }

    #boton2025:hover {
      background: rgba(255, 248, 194, 0.2);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 8px 30px rgba(255, 224, 102, 0.5);
    }

    /* Bot√≥n Volver - Posicionamiento y funcionalidad corregidos */
    #volver {
      font-family: 'Playfair Display', serif;
      font-weight: 600;
      background: linear-gradient(45deg, transparent, rgba(255, 248, 194, 0.2));
      color: #fff8c2;
      border: 2px solid #ffe066;
      cursor: pointer;
      border-radius: 50px;
      transition: all 0.4s ease;
      box-shadow: 0 0 15px rgba(255, 224, 102, 0.3);
      backdrop-filter: blur(5px);
      text-align: center;
      white-space: nowrap;
      
      /* Posicionamiento fijo y z-index alto */
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 100000;
      
      /* Estados iniciales */
      visibility: hidden;
      opacity: 0;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      
      /* Evitar conflictos con otros elementos */
      pointer-events: none;
    }

    /* Estado visible del bot√≥n volver */
    #volver.mostrar {
      visibility: visible;
      opacity: 1;
      pointer-events: auto;
    }

    #volver:hover {
      background: rgba(255, 248, 194, 0.2);
      transform: translateX(-50%) translateY(-3px) scale(1.05);
      box-shadow: 0 8px 30px rgba(255, 224, 102, 0.5);
    }

    #volver:focus {
      background: rgba(255, 248, 194, 0.3);
      transform: translateX(-50%) translateY(-3px) scale(1.05);
      box-shadow: 0 8px 30px rgba(255, 224, 102, 0.6);
      outline: none;
    }

    #volver:active {
      transform: translateX(-50%) translateY(-1px) scale(1.02);
    }

    /* Poema 2025 */
    .poema2025 {
      width: 100vw;
      height: 100vh;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      opacity: 0;
      transform: scale(1.1);
      transition: all 0.8s ease-in-out;
    }

    .poema2025.visible {
      opacity: 1;
      transform: scale(1);
    }

    .video-fondo {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .poema-contenido {
      z-index: 2;
      text-align: center;
      padding: 2rem;
      max-width: 90%;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    #lineas-poema {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 500;
      font-style: italic;
      color: #fff8c2;
      text-shadow:
        0 0 20px rgba(255, 248, 194, 0.8),
        2px 2px 4px rgba(0, 0, 0, 0.9);
      line-height: 1.6;
      min-height: 200px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .linea-verso {
      opacity: 0;
      transform: translateY(30px);
      animation: aparecerLinea 1.2s ease-out forwards;
      margin-bottom: 0.5rem;
      display: block;
    }

    @keyframes aparecerLinea {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Frase final con efectos especiales */
    .frase-final {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 3;
      text-align: center;
      padding: 2rem;
      max-width: 90%;
      width: 100%;
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.8);
      transition: opacity 1s ease-out, transform 1s ease-out;
      will-change: opacity, transform;
    }

    .frase-final.visible {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    .texto-final {
      font-family: 'Cormorant Garamond', serif;
      font-weight: 600;
      font-style: italic;
      color: #fff570;
      text-shadow:
        0 0 25px rgba(255, 255, 112, 0.9),
        0 0 50px rgba(255, 224, 102, 0.7),
        3px 3px 6px rgba(0, 0, 0, 1);
      cursor: pointer;
      position: relative;
      display: inline-block;
      line-height: 1.4;
      max-width: 100%;
      word-wrap: break-word;
      user-select: none;
      will-change: transform;
      transition: transform 0.2s ease-out;
    }

    .texto-final:hover {
      transform: scale(1.02);
    }

    .texto-final:active {
      transform: scale(0.98);
    }

    .felicitacion {
      font-family: 'Playfair Display', serif;
      color: #fff570;
      margin-top: 1.5rem;
      font-weight: 600;
      text-shadow: 0 0 20px rgba(255, 248, 194, 0.6);
    }

    /* =========================================
       üåü ESTRELLA FUGAZ - NUEVA IMPLEMENTACI√ìN
    ========================================= */
    .estrella-fugaz {
  position: absolute;
  width: 12px; /* Aumentado de 6px a 12px */
  height: 12px; /* Aumentado de 6px a 12px */
  background: radial-gradient(circle, #ffffff, #ffdd44, rgba(255, 255, 255, 0));
  border-radius: 50%;
  z-index: 5;
  opacity: 0;
  filter: drop-shadow(0 0 15px #ffdd44) drop-shadow(0 0 25px #ffffff); /* M√°s brillo */
  will-change: transform, opacity;
}

/* Cola de la estrella - m√°s larga y visible */
.estrella-fugaz::before {
  content: '';
  position: absolute;
  top: 50%;
  left: -40px; /* Aumentado de -20px a -40px */
  width: 40px; /* Aumentado de 20px a 40px */
  height: 3px; /* Aumentado de 2px a 3px */
  background: linear-gradient(90deg, transparent, rgba(255, 221, 68, 0.9), rgba(255, 255, 255, 1));
  border-radius: 2px;
  transform: translateY(-50%);
  filter: blur(0.3px); /* Menos blur para m√°s definici√≥n */
  box-shadow: 0 0 10px rgba(255, 221, 68, 0.8); /* A√±adir brillo extra */
}

/* Animaci√≥n de la estrella fugaz - m√°s lenta y visible */
@keyframes estrellaFugaz {
  0% {
    opacity: 0;
    transform: translateX(-120px) translateY(-120px) scale(0.3);
  }
  15% {
    opacity: 1;
    transform: translateX(-100px) translateY(-100px) scale(1);
  }
  85% {
    opacity: 1;
    transform: translateX(60px) translateY(60px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateX(80px) translateY(80px) scale(0.5);
  }
}

    /* =========================================
       üåª GIRASOL MEJORADO - SISTEMA DE ESTADOS
    ========================================= */

    /* Girasol estilo emoji 2D con sistema de estados mejorado */
    .girasol-container {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      z-index: 4;
      opacity: 0;
      transition: opacity 1s ease-out;
      cursor: pointer;
    }

    /* Ajuste espec√≠fico para PC - girasol m√°s arriba */
    @media screen and (min-width: 1024px) {
      .girasol-container {
        top: 12%;
      }
    }

    .girasol-container.visible {
      opacity: 1;
    }

    .girasol-emoji {
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      will-change: transform, filter;
      position: relative;
      filter: drop-shadow(0 0 15px rgba(255, 224, 102, 0.6));
    }

    /* =========================================
   üåª GIRASOL CORREGIDO - ELIMINAR DOBLE TRANSFORM
========================================= */

/* Estado 1: Est√°tico - SIN transform adicional */
.girasol-emoji.estatico {
  animation: none;
  filter: brightness(1);
  /* REMOVER: transform: translateX(-50%); - ya lo hace el contenedor */
}

/* Estado 2: Brillo intermitente - SIN transform base */
.girasol-emoji.brillo-intermitente {
  animation: brilloIntermitente 2.5s ease-in-out infinite;
  /* REMOVER: transform: translateX(-50%); - ya lo hace el contenedor */
}

@keyframes brilloIntermitente {
  0%, 70%, 100% {
    filter: 
      drop-shadow(0 0 15px rgba(255, 224, 102, 0.6))
      brightness(1);
    transform: scale(1); /* SOLO escala, sin translateX */
  }
  15%, 25% {
    filter: 
      drop-shadow(0 0 25px rgba(255, 224, 102, 0.9))
      drop-shadow(0 0 40px rgba(255, 255, 255, 0.6))
      brightness(1.3);
    transform: scale(1.05); /* SOLO escala, sin translateX */
  }
}

/* Estado 3: Movimiento constante - SIN transform base */
.girasol-emoji.movimiento-constante {
  filter: 
    drop-shadow(0 0 20px rgba(255, 224, 102, 0.8))
    brightness(1.2);
  animation: balanceoConstante 3s ease-in-out infinite;
  /* REMOVER: transform: translateX(-50%); - ya lo hace el contenedor */
}

@keyframes balanceoConstante {
  0%, 100% {
    transform: rotate(-5deg) scale(1.02); /* SOLO rotaci√≥n y escala */
  }
  50% {
    transform: rotate(5deg) scale(1.02); /* SOLO rotaci√≥n y escala */
  }
}

/* Estado 4: Agrandado intenso - SOLO escala base */
.girasol-emoji.agrandado-intenso {
  filter: 
    drop-shadow(0 0 30px rgba(255, 224, 102, 1))
    drop-shadow(0 0 50px rgba(255, 255, 255, 0.8))
    brightness(1.5);
  animation: balanceoIntensivo 2.5s ease-in-out infinite;
  transform: scale(1.25); /* SOLO escala base, sin translateX */
}

@keyframes balanceoIntensivo {
  0%, 100% {
    transform: rotate(-3deg) scale(1.25); /* SOLO rotaci√≥n y escala */
  }
  50% {
    transform: rotate(3deg) scale(1.3); /* SOLO rotaci√≥n y escala */
  }
}

/* Efectos hover corregidos - SIN translateX */
.girasol-emoji:hover {
  transform: scale(1.1) !important; /* SOLO escala en hover */
}

.girasol-emoji.movimiento-constante:hover {
  animation-duration: 2s;
}

.girasol-emoji.agrandado-intenso:hover {
  animation-duration: 2s;
  filter: 
    drop-shadow(0 0 40px rgba(255, 224, 102, 1))
    drop-shadow(0 0 60px rgba(255, 255, 255, 0.9))
    brightness(1.7);
}

    .girasol-flor {
      width: 70px;
      height: 70px;
      position: relative;
      margin-bottom: -5px;
    }

    .girasol-centro-pequeno {
      width: 24px;
      height: 24px;
      background: radial-gradient(circle, #5D4037, #3E2723);
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 3;
      box-shadow: 0 0 8px rgba(93, 64, 55, 0.8);
    }

    .petalo-pequeno {
      position: absolute;
      width: 15px;
      height: 30px;
      background: linear-gradient(to top, #FFD700, #FFC107, #FFEB3B);
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      top: 50%;
      left: 50%;
      box-shadow: 0 0 5px rgba(255, 215, 0, 0.6);
    }

    .petalo-pequeno:nth-child(1) { transform: translate(-50%, -50%) rotate(0deg) translateY(-20px); }
    .petalo-pequeno:nth-child(2) { transform: translate(-50%, -50%) rotate(45deg) translateY(-20px); }
    .petalo-pequeno:nth-child(3) { transform: translate(-50%, -50%) rotate(90deg) translateY(-20px); }
    .petalo-pequeno:nth-child(4) { transform: translate(-50%, -50%) rotate(135deg) translateY(-20px); }
    .petalo-pequeno:nth-child(5) { transform: translate(-50%, -50%) rotate(180deg) translateY(-20px); }
    .petalo-pequeno:nth-child(6) { transform: translate(-50%, -50%) rotate(225deg) translateY(-20px); }
    .petalo-pequeno:nth-child(7) { transform: translate(-50%, -50%) rotate(270deg) translateY(-20px); }
    .petalo-pequeno:nth-child(8) { transform: translate(-50%, -50%) rotate(315deg) translateY(-20px); }

    .girasol-tallo {
      width: 5px;
      height: 45px;
      background: linear-gradient(to bottom, #4CAF50, #2E7D32);
      border-radius: 3px;
      position: relative;
      box-shadow: 0 0 3px rgba(76, 175, 80, 0.5);
    }

    .girasol-hoja {
      position: absolute;
      width: 18px;
      height: 10px;
      background: linear-gradient(45deg, #4CAF50, #66BB6A);
      border-radius: 50% 10px 50% 10px;
      top: 18px;
      left: -10px;
      transform: rotate(-30deg);
      box-shadow: 0 0 3px rgba(76, 175, 80, 0.4);
    }

    /* Brillos decorativos de fondo */
    .brillos-decorativos {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
      pointer-events: none;
      opacity: 0;
      transition: opacity 1s ease-out;
    }

    .brillos-decorativos.visible {
      opacity: 1;
    }

    .brillo-decorativo {
      position: absolute;
      width: 6px;
      height: 6px;
      background: radial-gradient(circle, #fff570, rgba(255, 245, 112, 0.2));
      border-radius: 50%;
      animation: brilloFlotante 4s ease-in-out infinite;
      will-change: transform, opacity;
    }

    @keyframes brilloFlotante {
      0%, 100% {
        opacity: 0.3;
        transform: scale(0.5) translateY(0px);
      }
      50% {
        opacity: 1;
        transform: scale(1.2) translateY(-20px);
      }
    }

    /* Firma del creador mejorada */
    .firma-creador {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 10;
      font-family: 'Playfair Display', serif;
      font-size: 1rem;
      color: #2c2c2c;
      font-weight: 600;
      opacity: 0;
      transition: all 0.5s ease-out;
      background: linear-gradient(135deg, rgba(255, 248, 194, 0.9), rgba(255, 235, 150, 0.8));
      padding: 8px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255, 224, 102, 0.6);
      box-shadow: 0 4px 15px rgba(255, 224, 102, 0.3);
      backdrop-filter: blur(10px);
    }

    .firma-creador.visible {
      opacity: 1;
      animation: aparecerFirma 1s ease-out forwards;
    }

    @keyframes aparecerFirma {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .firma-creador:hover {
      background: linear-gradient(135deg, rgba(255, 248, 194, 1), rgba(255, 235, 150, 0.9));
      box-shadow: 0 6px 20px rgba(255, 224, 102, 0.5);
      transform: translateY(-2px) scale(1.02);
    }

    /* Canvas de brillos interactivos */
    #brillosCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 2;
      pointer-events: none;
      will-change: auto;
    }

    /* Part√≠culas brillantes optimizadas */
    .particula-brillo {
      position: absolute;
      width: 4px;
      height: 4px;
      background: radial-gradient(circle, #fff570, rgba(255, 245, 112, 0.3));
      border-radius: 50%;
      pointer-events: none;
      animation: flotarParticula 3s ease-out forwards;
      z-index: 2;
      will-change: transform, opacity;
    }

    @keyframes flotarParticula {
      0% {
        transform: translateY(0) rotate(0deg) scale(0);
        opacity: 0;
      }

      10% {
        opacity: 1;
        transform: translateY(-15px) rotate(45deg) scale(1);
      }

      50% {
        opacity: 0.8;
        transform: translateY(-80px) rotate(180deg) scale(1.1);
      }

      100% {
        opacity: 0;
        transform: translateY(-150px) rotate(360deg) scale(0);
      }
    }

    /* Overlay invisible para capturar eventos */
    .evento-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 3;
      background: transparent;
      cursor: pointer;
      display: none;
    }

    .evento-overlay.activo {
      display: block;
    }

    .carita {
      font-family: 'Courier New', monospace;
      font-size: 0.9em;
      opacity: 0.8;
    }

    /* ============================================
       RESPONSIVE DESIGN - TAMA√ëOS OPTIMIZADOS
    ============================================ */

    /* DESKTOP - 1200px y m√°s */
    @media screen and (min-width: 1200px) {
      #lineas-poema {
        font-size: 3.2rem;
      }

      .texto-final {
        font-size: 2.8rem;
      }

      .felicitacion {
        font-size: 2rem;
      }

      #volver {
        font-size: 1.5rem;
        padding: 16px 32px;
        min-width: 220px;
        bottom: 40px;
      }

      .firma-creador {
        font-size: 1.1rem;
        padding: 10px 15px;
        bottom: 25px;
        right: 25px;
      }

      .girasol-flor {
        width: 80px;
        height: 80px;
      }

      .estrella-fugaz {
        width: 8px;
        height: 8px;
      }
    }

    /* DESKTOP EST√ÅNDAR - 1024px a 1199px */
    @media screen and (max-width: 1199px) and (min-width: 1024px) {
      #lineas-poema {
        font-size: 2.8rem;
      }

      .texto-final {
        font-size: 2.4rem;
      }

      .felicitacion {
        font-size: 1.8rem;
      }

      #volver {
        font-size: 1.4rem;
        padding: 15px 30px;
        min-width: 200px;
        bottom: 30px;
      }

      .firma-creador {
        font-size: 1rem;
        padding: 9px 13px;
        bottom: 22px;
        right: 22px;
      }

      .girasol-flor {
        width: 75px;
        height: 75px;
      }
    }

    /* TABLETS - 769px a 1023px */
    @media screen and (max-width: 1023px) and (min-width: 769px) {
      .banner-password {
        font-size: 2.2rem;
      }

      .aviso-volumen {
        font-size: 0.95rem;
        top: 18px;
      }

      .verso-2020 {
        font-size: 2.2rem;
      }

      #lineas-poema {
        font-size: 2.4rem;
      }

      .texto-final {
        font-size: 2.1rem;
      }

      .felicitacion {
        font-size: 1.6rem;
      }

      .frase-final {
        max-width: 85%;
      }

      .girasol-flor {
        width: 65px;
        height: 65px;
      }

      .firma-creador {
        font-size: 0.95rem;
        padding: 7px 11px;
        bottom: 18px;
        right: 18px;
      }

      #boton2025 {
        font-size: 1.3rem;
        padding: 13px 28px;
        min-width: 180px;
      }

      #volver {
        font-size: 1.3rem;
        padding: 13px 28px;
        min-width: 180px;
        bottom: 25px;
      }
    }

    /* M√ìVILES - 481px a 768px */
    @media screen and (max-width: 768px) and (min-width: 481px) {
      .banner-password {
        font-size: 2rem;
        margin-bottom: 2rem;
        padding: 0 1rem;
      }

      .aviso-volumen {
        font-size: 0.9rem;
        top: 15px;
        padding: 8px 16px;
      }

      #inputPassword {
        width: 280px;
        font-size: 1.2rem;
      }

      .verso-2020 {
        font-size: 2rem;
        padding: 15px;
      }

      #lineas-poema {
        font-size: 2.2rem;
      }

      .texto-final {
        font-size: 1.9rem;
        padding: 0 1rem;
      }

      .felicitacion {
        font-size: 1.4rem;
      }

      .frase-final {
        max-width: 95%;
        padding: 1rem;
        top: 55%;
      }

      #boton2025 {
        font-size: 1.2rem;
        padding: 12px 24px;
        min-width: 160px;
        border-width: 2px;
      }

      #volver {
        font-size: 1.2rem;
        padding: 12px 24px;
        min-width: 160px;
        bottom: 80px;
      }

      .girasol-flor {
        width: 60px;
        height: 60px;
      }

      .girasol-container {
        top: 15%;
      }

      .firma-creador {
        font-size: 0.85rem;
        padding: 6px 10px;
        bottom: 15px;
        right: 15px;
        border-radius: 10px;
      }

      .estrella-fugaz {
        width: 5px;
        height: 5px;
      }
    }

    /* M√ìVILES PEQUE√ëOS - 361px a 480px */
    @media screen and (max-width: 480px) and (min-width: 361px) {
      .banner-password {
        font-size: 1.7rem;
      }

      .aviso-volumen {
        font-size: 0.85rem;
        top: 12px;
        padding: 6px 14px;
      }

      #inputPassword {
        width: 250px;
        font-size: 1.1rem;
      }

      .verso-2020 {
        font-size: 1.8rem;
      }

      #lineas-poema {
        font-size: 2rem;
      }

      .texto-final {
        font-size: 1.7rem;
      }

      .felicitacion {
        font-size: 1.3rem;
      }

      #boton2025 {
        font-size: 1.1rem;
        padding: 10px 20px;
        min-width: 140px;
      }

      #volver {
        font-size: 1.1rem;
        padding: 10px 20px;
        min-width: 140px;
        bottom: 70px;
      }

      .girasol-flor {
        width: 55px;
        height: 55px;
      }

      .firma-creador {
        font-size: 0.8rem;
        padding: 5px 9px;
        bottom: 12px;
        right: 12px;
        border-radius: 8px;
      }
    }

    /* M√ìVILES MUY PEQUE√ëOS - 360px y menos */
    @media screen and (max-width: 360px) {
      .banner-password {
        font-size: 1.5rem;
      }

      .aviso-volumen {
        font-size: 0.8rem;
        top: 10px;
        padding: 5px 12px;
      }

      #inputPassword {
        width: 220px;
        font-size: 1rem;
      }

      .verso-2020 {
        font-size: 1.6rem;
      }

      #lineas-poema {
        font-size: 1.8rem;
      }

      .texto-final {
        font-size: 1.5rem;
      }

      .felicitacion {
        font-size: 1.2rem;
      }

      #boton2025 {
        font-size: 1rem;
        padding: 8px 16px;
        min-width: 120px;
      }

      #volver {
        font-size: 1rem;
        padding: 8px 16px;
        min-width: 120px;
        bottom: 60px;
      }

      .girasol-flor {
        width: 50px;
        height: 50px;
      }

      .firma-creador {
        font-size: 0.75rem;
        padding: 4px 8px;
        bottom: 10px;
        right: 10px;
        border-radius: 6px;
      }

      .estrella-fugaz {
        width: 4px;
        height: 4px;
      }
    }
  </style>
</head>

<body>
  <!-- Audio elemento oculto -->
  <audio id="audioFondo" preload="auto">
    <source src="instrumental.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento audio.
  </audio>

  <!-- Pantalla de contrase√±a -->
  <div id="pantalla-password">
    <!-- Aviso de volumen -->
    <div class="aviso-volumen">
      <span class="icono-volumen">üîä</span>
      <span>Active su volumen para una mejor experiencia</span>
    </div>
    
    <h1 class="banner-password">Escriba la contrase√±a:</h1>
    <input type="password" id="inputPassword" placeholder="Ingresa la contrase√±a..." />
    <button id="verificarPassword">Entrar</button>
    <p id="errorPassword"></p>
  </div>

  <!-- Contenido protegido -->
  <div id="contenido" class="oculto">
    <!-- Poema 2020 -->
    <section id="poema2020" class="poema2020">
      <div class="poema-contenido">
        <p class="verso-2020">
          "Tu apariencia me encant√≥,<br />
          pero fue tu forma de ser la que me agrad√≥ <span class="carita">:)</span>"
        </p>
      </div>
      <button id="boton2025">Poema 2025 üåª</button>
    </section>

    <!-- Poema 2025 -->
    <section id="poema2025" class="poema2025 oculto">
      <!-- Video de fondo -->
      <video autoplay muted loop playsinline class="video-fondo">
        <source src="bg.2025.mp4" type="video/mp4" />
        Tu navegador no soporta el elemento video.
      </video>
      
      <!-- Girasol interactivo mejorado con sistema de estados -->
      <div class="girasol-container" id="girasolContainer">
        <div class="girasol-emoji estatico" id="girasolEmoji">
          <div class="girasol-flor">
            <div class="petalo-pequeno"></div>
            <div class="petalo-pequeno"></div>
            <div class="petalo-pequeno"></div>
            <div class="petalo-pequeno"></div>
            <div class="petalo-pequeno"></div>
            <div class="petalo-pequeno"></div>
            <div class="petalo-pequeno"></div>
            <div class="petalo-pequeno"></div>
            <div class="girasol-centro-pequeno"></div>
          </div>
          <div class="girasol-tallo">
            <div class="girasol-hoja"></div>
          </div>
        </div>
      </div>

      <!-- Brillos decorativos -->
      <div class="brillos-decorativos" id="brillosDecorativos"></div>

      <div class="poema-contenido">
        <div id="lineas-poema"></div>
      </div>
      <div class="frase-final" id="fraseFinal">
        <div class="texto-final" id="textoFinal">
          "Nunca dejes de florecer, para as√≠ poder disfrutar y admirar un mejor amanecer."
        </div>
        <div class="felicitacion">Feliz cumplea√±os, Johana üåª</div>
      </div>
      <div class="evento-overlay" id="eventoOverlay"></div>
    </section>

    <canvas id="brillosCanvas"></canvas>
    <div id="particulas-container"></div>
  </div>

  <!-- Bot√≥n Volver posicionado de forma fija -->
  <button id="volver">Volver a ver</button>

  <!-- Firma del creador mejorada -->
  <div class="firma-creador">Creado por: Joseph üå†</div>

  <script>
    // Elementos del DOM
    const passwordInput = document.getElementById("inputPassword");
    const verificarBtn = document.getElementById("verificarPassword");
    const errorPassword = document.getElementById("errorPassword");
    const pantallaPassword = document.getElementById("pantalla-password");
    const contenido = document.getElementById("contenido");
    const seccion2020 = document.getElementById("poema2020");
    const seccion2025 = document.getElementById("poema2025");
    const boton2025 = document.getElementById("boton2025");
    const lineasPoema = document.getElementById("lineas-poema");
    const fraseFinal = document.getElementById("fraseFinal");
    const textoFinal = document.getElementById("textoFinal");
    const eventoOverlay = document.getElementById("eventoOverlay");
    const volverBtn = document.getElementById("volver");
    const canvas = document.getElementById("brillosCanvas");
    const ctx = canvas.getContext("2d");
    const particulasContainer = document.getElementById("particulas-container");
    const girasol = document.getElementById("girasolEmoji");
    const girasolContainer = document.getElementById("girasolContainer");
    const brillosDecorativos = document.getElementById("brillosDecorativos");
    const firmaCreador = document.querySelector(".firma-creador");
    const audioFondo = document.getElementById("audioFondo");

    // ===================================
    // üåü SISTEMA DE ESTADOS DEL GIRASOL
    // ===================================
    let estadoGirasol = {
      fase: 0, // 0: oculto, 1: estrella fugaz, 2: est√°tico, 3: brillo intermitente, 4: movimiento constante, 5: agrandado intenso
      clickCount: 0,
      estrellaLanzada: false
    };

    // Variables de control existentes
    let isPressed = false;
    let pressTimeout = null;
    const poolParticulas = [];
    let index = 0;
    let animacionActiva = false;
    let lastTime = 0;
    let brillos = [];
    let audioIniciado = false;

    // Versos del poema 2025
    const versos = [
      "Cuando todo era simple y sin condici√≥n,",
      "brillabas sin dar explicaci√≥n.",
      "Con pasos suaves, sonrisas sinceras,",
      "sin saber que ya eras primavera.",
      "",
      "Vinieron pruebas, caminos cerrados,",
      "y t√∫ seguiste avanzando, a√∫n en senderos quebrados.",
      "Dec√≠as \"soy fuerte\" en tu caminar,",
      "como quien lucha sin aparentar.",
      "",
      "No es f√°cil subir a la cima cuando hay peso,",
      "pero t√∫ sigue avanzando, sin dar retroceso.",
      "Porque en cada paso, Dios va contigo con su gran amor,",
      "y es √âl quien siempre gu√≠a tu camino y tu gran coraz√≥n.",
      "",
      "Yo siempre estoy presente, dispuesto a ayudarte,",
      "ser quien te escuche, cuando desees expresarte.",
      "Porque no puedo dejar de cuidar," ,
      "a quien tanto aprend√≠ a atesorar." ,
      "Y en esta hermosa etapa, t√∫ marcaste mi ser con tu esencia,",
      "mientras yo te marqu√© una huella... con mi fiel presencia."
    ];

    // ===================================
    // üåü FUNCIONES DE LA ESTRELLA FUGAZ
    // ===================================
    function crearEstrellaFugaz() {
      console.log("üåü Creando estrella fugaz...");
      
      const estrella = document.createElement('div');
      estrella.className = 'estrella-fugaz';
      
      // Posicionar la estrella en la esquina superior izquierda del girasol
      const girasolRect = girasolContainer.getBoundingClientRect();
      const startX = girasolRect.left - 80;
      const startY = girasolRect.top - 80;
      
      estrella.style.left = startX + 'px';
      estrella.style.top = startY + 'px';
      
      // Agregar al DOM
      document.body.appendChild(estrella);
      
      // Iniciar animaci√≥n inmediatamente
      setTimeout(() => {
        estrella.style.animation = 'estrellaFugaz 1.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards';
      }, 100);
      
      // Remover la estrella y activar siguiente fase
      setTimeout(() => {
        estrella.remove();
        activarBrilloIntermitente();
        console.log("üåü Estrella fugaz completada, activando brillo intermitente");
      }, 2000);
    }

    // ===================================
    // üåª FUNCIONES DE CONTROL DEL GIRASOL
    // ===================================
    function activarBrilloIntermitente() {
      estadoGirasol.fase = 3;
      girasol.className = 'girasol-emoji brillo-intermitente';
      console.log("üåª Estado: Brillo intermitente activado");
    }

    function activarMovimientoConstante() {
      estadoGirasol.fase = 4;
      girasol.className = 'girasol-emoji movimiento-constante';
      console.log("üåª Estado: Movimiento constante activado");
    }

    function activarAgrandadoIntenso() {
      estadoGirasol.fase = 5;
      girasol.className = 'girasol-emoji agrandado-intenso';
      console.log("üåª Estado: Agrandado intenso activado");
    }

    function manejarClickGirasol() {
      console.log(`üåª Click en girasol. Estado actual: ${estadoGirasol.fase}, Clicks: ${estadoGirasol.clickCount}`);
      
      // Crear brillos en la posici√≥n del girasol
      const rect = girasol.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      
      switch(estadoGirasol.fase) {
        case 3: // Brillo intermitente -> Movimiento constante
          estadoGirasol.clickCount = 1;
          crearBrillosSutiles(centerX, centerY, 15);
          activarMovimientoConstante();
          break;
          
        case 4: // Movimiento constante -> Agrandado intenso
          estadoGirasol.clickCount = 2;
          crearBrillosSutiles(centerX, centerY, 20);
          activarAgrandadoIntenso();
          break;
          
        case 5: // Agrandado intenso -> Efecto extra
          estadoGirasol.clickCount++;
          crearBrillosSutiles(centerX, centerY, 25);
          // A√±adir un pulso extra de brillo
          girasol.style.animation = 'balanceoIntensivo 1.5s ease-in-out infinite';
          break;
          
        default:
          console.log("üåª Click ignorado - estado no v√°lido para interacci√≥n");
      }
    }

    // FUNCI√ìN OPTIMIZADA PARA MOSTRAR EL BOT√ìN
    function mostrarBotonVolver() {
      console.log("üéØ Mostrando bot√≥n volver...");
      
      if (!volverBtn) {
        console.error("‚ùå ERROR: Bot√≥n 'volver' no encontrado");
        return;
      }

      volverBtn.classList.add('mostrar');
      console.log("‚úÖ Bot√≥n volver mostrado exitosamente");
    }

    // FUNCI√ìN PARA OCULTAR EL BOT√ìN
    function ocultarBotonVolver() {
      console.log("üîÑ Ocultando bot√≥n volver...");
      
      if (volverBtn) {
        volverBtn.classList.remove('mostrar');
        console.log("‚úÖ Bot√≥n ocultado correctamente");
      }
    }

    // FUNCI√ìN MOSTRAR VERSOS OPTIMIZADA
    async function mostrarVersos() {
      console.log("üìù Comenzando a mostrar versos");
      if (index < versos.length) {
        const verso = versos[index];

        if (verso.trim() === "") {
          index++;
          setTimeout(mostrarVersos, 1500);
          return;
        }

        const linea = document.createElement("span");
        linea.className = "linea-verso";
        linea.textContent = verso;
        linea.style.animationDelay = '0.2s';

        lineasPoema.innerHTML = '';
        lineasPoema.appendChild(linea);

        index++;
        setTimeout(mostrarVersos, 3000);
      } else {
        console.log("üìù Todos los versos mostrados, mostrando frase final");
        
        setTimeout(() => {
          lineasPoema.style.display = 'none';
          fraseFinal.classList.add("visible");
          girasolContainer.classList.add("visible");
          firmaCreador.classList.add("visible");

          // Iniciar la secuencia de la estrella fugaz despu√©s de 2 segundos
          setTimeout(() => {
            if (!estadoGirasol.estrellaLanzada) {
              estadoGirasol.estrellaLanzada = true;
              crearEstrellaFugaz();
            }
          }, 2000);

          crearBrillosDecorativos();
          crearPoolParticulas();
          configurarEventosGirasol();
          eventoOverlay.classList.add('activo');
          configurarEventosInteraccion();
          animacionActiva = true;
          inicializarBrillos();
          requestAnimationFrame(animarBrillos);

          // MOSTRAR BOT√ìN DESPU√âS DE 6 SEGUNDOS (para que vean la secuencia completa)
          setTimeout(() => {
            mostrarBotonVolver();
          }, 6000);

        }, 1000);
      }
    }

    // Configurar canvas con optimizaci√≥n
    function setupCanvas() {
      const dpr = window.devicePixelRatio || 1;
      const rect = canvas.getBoundingClientRect();
      canvas.width = rect.width * dpr;
      canvas.height = rect.height * dpr;
      ctx.scale(dpr, dpr);
      canvas.style.width = rect.width + 'px';
      canvas.style.height = rect.height + 'px';
    }
    setupCanvas();
    window.addEventListener('resize', setupCanvas);

    // Configurar audio con fade-in
    function configurarAudio() {
      audioFondo.volume = 0;
      audioFondo.loop = false;
      
      audioFondo.addEventListener('canplaythrough', () => {
        console.log('üéµ Audio cargado y listo para reproducir');
      });

      audioFondo.addEventListener('error', (e) => {
        console.warn('‚ùå Error al cargar el audio:', e);
      });
    }

    // Iniciar audio con fade-in suave
    function iniciarAudioConFadeIn() {
      if (audioIniciado) return;
      
      audioFondo.currentTime = 0;
      audioFondo.volume = 0;
      
      const playPromise = audioFondo.play();
      
      if (playPromise !== undefined) {
        playPromise.then(() => {
          audioIniciado = true;
          console.log('üéµ Audio iniciado correctamente');
          
          const fadeInDuration = 2500;
          const targetVolume = 0.2;
          const fadeInInterval = 50;
          const volumeStep = targetVolume / (fadeInDuration / fadeInInterval);
          
          const fadeIn = setInterval(() => {
            if (audioFondo.volume < targetVolume) {
              audioFondo.volume = Math.min(audioFondo.volume + volumeStep, targetVolume);
            } else {
              clearInterval(fadeIn);
              console.log('üéµ Fade-in completado. Volumen final:', audioFondo.volume);
            }
          }, fadeInInterval);
          
        }).catch((error) => {
          console.warn('‚ùå No se pudo reproducir el audio autom√°ticamente:', error);
        });
      }
    }

    // Verificaci√≥n de contrase√±a
    function verificarPassword() {
      const password = passwordInput.value.trim();
      
      if (password === "poema2020") {
        pantallaPassword.classList.add('saliendo');
        
        setTimeout(() => {
          iniciarAudioConFadeIn();
        }, 500);
        
        setTimeout(() => {
          pantallaPassword.style.display = "none";
          contenido.classList.remove("oculto");
          setTimeout(() => {
            contenido.classList.add("visible");
          }, 100);
        }, 800);
      } else {
        errorPassword.textContent = "Contrase√±a incorrecta.";
        passwordInput.style.borderColor = "#ff6b6b";
        setTimeout(() => {
          errorPassword.textContent = "";
          passwordInput.style.borderColor = "#fff8c2";
        }, 2000);
      }
    }

    verificarBtn.addEventListener("click", verificarPassword);
    passwordInput.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        verificarPassword();
      }
    });

    // Pool de part√≠culas para optimizaci√≥n
    function crearPoolParticulas() {
      for (let i = 0; i < 50; i++) {
        const particula = document.createElement('div');
        particula.className = 'particula-brillo';
        particula.style.display = 'none';
        particulasContainer.appendChild(particula);
        poolParticulas.push(particula);
      }
    }

    // Obtener part√≠cula del pool
    function obtenerParticula() {
      return poolParticulas.find(p => p.style.display === 'none');
    }

    // Liberar part√≠cula al pool
    function liberarParticula(particula) {
      particula.style.display = 'none';
      particula.style.animation = '';
    }

    // Crear brillos sutiles optimizados
    function crearBrillosSutiles(x, y, cantidad = 8) {
      for (let i = 0; i < cantidad; i++) {
        const particula = obtenerParticula();
        if (!particula) continue;

        const offsetX = (Math.random() - 0.5) * 40;
        const offsetY = (Math.random() - 0.5) * 40;
        
        particula.style.left = (x + offsetX) + 'px';
        particula.style.top = (y + offsetY) + 'px';
        particula.style.display = 'block';
        particula.style.animation = `flotarParticula 3s ease-out forwards`;

        setTimeout(() => liberarParticula(particula), 3000);
      }
    }

    // Crear brillos decorativos alrededor de la pantalla
    function crearBrillosDecorativos() {
      brillosDecorativos.innerHTML = '';
      const cantidad = window.innerWidth < 768 ? 15 : 25;
      
      for (let i = 0; i < cantidad; i++) {
        const brillo = document.createElement('div');
        brillo.className = 'brillo-decorativo';
        
        const lado = Math.floor(Math.random() * 4);
        let x, y;
        
        switch(lado) {
          case 0:
            x = Math.random() * 100;
            y = Math.random() * 15;
            break;
          case 1:
            x = 85 + Math.random() * 15;
            y = Math.random() * 100;
            break;
          case 2:
            x = Math.random() * 100;
            y = 85 + Math.random() * 15;
            break;
          case 3:
            x = Math.random() * 15;
            y = Math.random() * 100;
            break;
        }
        
        brillo.style.left = x + '%';
        brillo.style.top = y + '%';
        brillo.style.animationDelay = Math.random() * 2 + 's';
        
        brillosDecorativos.appendChild(brillo);
      }
      
      brillosDecorativos.classList.add('visible');
    }

    // Inicializar brillos ambientales
    function inicializarBrillos() {
      brillos = [];
      const cantidad = window.innerWidth < 768 ? 20 : 30;
      
      for (let i = 0; i < cantidad; i++) {
        brillos.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          r: Math.random() * 1.5 + 0.5,
          velocidad: Math.random() * 1 + 0.3,
          opacity: Math.random() * 0.6 + 0.2,
          color: `hsl(${50 + Math.random() * 10}, 100%, ${70 + Math.random() * 20}%)`,
          blur: true
        });
      }
    }

    // Animar brillos con optimizaci√≥n de frame rate
    function animarBrillos(currentTime) {
      if (!animacionActiva) return;

      if (currentTime - lastTime < 16.67) {
        requestAnimationFrame(animarBrillos);
        return;
      }

      lastTime = currentTime;
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      brillos.forEach((brillo) => {
        brillo.y -= brillo.velocidad;

        if (brillo.y < -10) {
          brillo.y = canvas.height + 10;
          brillo.x = Math.random() * canvas.width;
        }

        ctx.save();
        ctx.globalAlpha = brillo.opacity;
        ctx.fillStyle = brillo.color;
        if (brillo.blur) {
          ctx.shadowBlur = 8;
          ctx.shadowColor = brillo.color;
        }
        ctx.beginPath();
        ctx.arc(brillo.x, brillo.y, brillo.r, 0, Math.PI * 2);
        ctx.fill();
        ctx.restore();
      });

      requestAnimationFrame(animarBrillos);
    }

    // Configurar eventos de interacci√≥n mejorados
    function configurarEventosInteraccion() {
      eventoOverlay.addEventListener('mousedown', (e) => {
        isPressed = true;
        crearBrillosSutiles(e.clientX, e.clientY, 6);
        
        pressTimeout = setInterval(() => {
          if (isPressed) {
            crearBrillosSutiles(e.clientX, e.clientY, 4);
          }
        }, 150);
      });

      eventoOverlay.addEventListener('mouseup', () => {
        isPressed = false;
        if (pressTimeout) {
          clearInterval(pressTimeout);
          pressTimeout = null;
        }
      });

      eventoOverlay.addEventListener('mouseleave', () => {
        isPressed = false;
        if (pressTimeout) {
          clearInterval(pressTimeout);
          pressTimeout = null;
        }
      });

      eventoOverlay.addEventListener('touchstart', (e) => {
        e.preventDefault();
        isPressed = true;
        const touch = e.touches[0];
        
        crearBrillosSutiles(touch.clientX, touch.clientY, 6);
        
        pressTimeout = setInterval(() => {
          if (isPressed) {
            crearBrillosSutiles(touch.clientX, touch.clientY, 4);
          }
        }, 150);
      });

      eventoOverlay.addEventListener('touchend', () => {
        isPressed = false;
        if (pressTimeout) {
          clearInterval(pressTimeout);
          pressTimeout = null;
        }
      });

      eventoOverlay.addEventListener('touchcancel', () => {
        isPressed = false;
        if (pressTimeout) {
          clearInterval(pressTimeout);
          pressTimeout = null;
        }
      });
    }

    // ===================================
    // üåª CONFIGURAR EVENTOS DEL GIRASOL
    // ===================================
    function configurarEventosGirasol() {
      // Prevenir la propagaci√≥n de eventos en el girasol para evitar conflictos
      girasol.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        manejarClickGirasol();
      });

      girasol.addEventListener('touchstart', (e) => {
        e.preventDefault();
        e.stopPropagation();
        manejarClickGirasol();
      });

      // Prevenir doble tap zoom en m√≥viles
      girasol.addEventListener('touchend', (e) => {
        e.preventDefault();
      });

      // Agregar eventos de hover para mejorar la experiencia
      girasol.addEventListener('mouseenter', () => {
        if (estadoGirasol.fase >= 3) {
          girasol.style.cursor = 'pointer';
        }
      });
    }

    // Transici√≥n a poema 2025
    boton2025.addEventListener("click", () => {
      console.log("üöÄ Transicionando a poema 2025");
      seccion2020.classList.add('saliendo');

      setTimeout(() => {
        seccion2020.classList.add("oculto");
        seccion2025.classList.remove("oculto");

        setTimeout(() => {
          seccion2025.classList.add("visible");
          mostrarVersos();
        }, 100);
      }, 800);
    });

    // ===================================
    // üîÑ FUNCI√ìN RESET MEJORADA
    // ===================================
    function resetearEstadoGirasol() {
      estadoGirasol = {
        fase: 0,
        clickCount: 0,
        estrellaLanzada: false
      };
      
      girasol.className = 'girasol-emoji estatico';
      girasol.style.animation = '';
      
      // Remover cualquier estrella fugaz residual
      document.querySelectorAll('.estrella-fugaz').forEach(estrella => {
        estrella.remove();
      });
      
      console.log("üîÑ Estado del girasol reseteado completamente");
    }

    // Funci√≥n para resetear completamente y volver al inicio
    function volverAlInicio() {
      console.log("üîÑ Ejecutando volverAlInicio()");
      
      // Detener y resetear el audio inmediatamente
      audioFondo.pause();
      audioFondo.currentTime = 0;
      audioIniciado = false;

      // Detener todas las animaciones
      animacionActiva = false;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Limpiar part√≠culas
      poolParticulas.forEach(p => liberarParticula(p));

      // Ocultar bot√≥n
      ocultarBotonVolver();

      // Resetear elementos de la frase final
      eventoOverlay.classList.remove('activo');
      fraseFinal.classList.remove("visible");
      girasolContainer.classList.remove("visible");
      brillosDecorativos.classList.remove('visible');
      firmaCreador.classList.remove("visible");
      
      // Resetear poema 2025
      lineasPoema.style.display = 'flex';
      lineasPoema.innerHTML = "";
      index = 0;

      // Resetear estado del girasol
      resetearEstadoGirasol();

      // Detener eventos
      isPressed = false;
      if (pressTimeout) {
        clearInterval(pressTimeout);
        pressTimeout = null;
      }

      // Ocultar poema 2025 y mostrar 2020
      seccion2025.classList.remove("visible");
      setTimeout(() => {
        seccion2025.classList.add("oculto");
        seccion2020.classList.remove("oculto");
        seccion2020.classList.remove('saliendo');
        
        setTimeout(() => {
          seccion2020.style.opacity = '1';
          seccion2020.style.transform = 'scale(1)';

          // Reiniciar la m√∫sica despu√©s de 3 segundos
          setTimeout(() => {
            console.log("üéµ Reiniciando m√∫sica despu√©s de 3 segundos...");
            iniciarAudioConFadeIn();
          }, 3000);
          
        }, 100);
      }, 300);
    }

    // Event listeners para el bot√≥n volver - CORREGIDOS Y SIMPLIFICADOS
    if (volverBtn) {
      volverBtn.addEventListener("click", function(e) {
        e.preventDefault();
        e.stopPropagation();
        console.log("üîÑ Bot√≥n 'Volver a ver' clickeado");
        volverAlInicio();
      });

      volverBtn.addEventListener("touchstart", function(e) {
        e.preventDefault();
        e.stopPropagation();
        console.log("üì± Bot√≥n 'Volver a ver' tocado (touch)");
        volverAlInicio();
      });

      volverBtn.addEventListener("mousedown", function(e) {
        console.log("üñ±Ô∏è Mouse down en bot√≥n volver");
      });

      volverBtn.addEventListener("dblclick", function(e) {
        e.preventDefault();
        e.stopPropagation();
        console.log("üîÑ Doble click en bot√≥n volver");
        volverAlInicio();
      });
    } else {
      console.error("‚ùå ERROR CR√çTICO: Bot√≥n volver no encontrado en el DOM");
    }

    // Inicializar configuraci√≥n de audio al cargar la p√°gina
    configurarAudio();

    // Debug para verificar que el bot√≥n est√° en el DOM
    console.log("üîç Verificando bot√≥n volver:", volverBtn);
    console.log("üîç Elemento existe:", !!volverBtn);
    if (volverBtn) {
      console.log("üîç Posici√≥n del bot√≥n:", volverBtn.getBoundingClientRect());
      console.log("üîç Estilos computados z-index:", getComputedStyle(volverBtn).zIndex);
      console.log("üîç Pointer events:", getComputedStyle(volverBtn).pointerEvents);
    }

    // ===================================
    // üöÄ INICIALIZACI√ìN FINAL
    // ===================================
    console.log("üåü Sistema de girasol interactivo inicializado");
    console.log("üì± Optimizado para todos los dispositivos");
    console.log("üåª Estados disponibles: est√°tico -> brillo intermitente -> movimiento -> agrandado");
  </script>
</body>
</html>